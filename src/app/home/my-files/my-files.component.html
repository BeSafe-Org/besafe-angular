<div class="my_files" tabindex="-1" [id]="fileSystemOperationContainerId" #fileSystemOperationContainer>
    <div class="header">
        <div class="header_title"> All files </div>
        <div class="actions">
            <app-button
                [buttonDisplayType]="'secondary'" [buttonFunctionalityType]="'button'"
                [imgSrc]="'assets/images/svg/common-sprite.svg#' + (viewType === 'grid' ? 'list' : 'grid') + '-view-icon'"
                (clicked)="toggleViewType()">
            </app-button>
            <app-button
                [buttonDisplayType]="'primary'" [buttonFunctionalityType]="'button'"
                [title]="'Add files'"
                [imgSrc]="'assets/images/svg/common-sprite.svg#add-icon'"
                (clicked)="openAddFileModalPopup()">
            </app-button>
        </div>
    </div>
    <ng-container *ngIf="!isLoading">
        <ul [ngClass]="viewType + '_view'"
            appFileSystemOperations
            [viewType]="viewType"
            [fileCollection]="allFiles"
            [prefix]="fileIdPrefix"
            #operationResult="operationResult"
            (contextmenu)="openContextMenu($event)">
            <hr>
            <ng-container *ngFor="let file of allFiles">
                <li class="file_card_container" [id]="fileIdPrefix + file.fileId"
                    [ngClass]="{'selected': operationResult.isSelected(file.fileId),
                                    'focused': operationResult.isLastFocused(file.fileId)}"
                    [title]="file.fileName">
                    <div class="stop_pointer_events">
                        <app-file-card [viewType]="viewType" [fileName]="file.fileName"></app-file-card>
                    </div>
                </li>
            </ng-container>
        </ul>
    </ng-container>
    <ng-container *ngIf="isLoading">
        <div class="flash_screen">
            <app-loader></app-loader>
        </div>
    </ng-container>
</div>
